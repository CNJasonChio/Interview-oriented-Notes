# 摩尔投票算法

## 目录 or TODO

- [x] 1. 解题思路
- [x] 2. LeetCode题目
- [x] 3. 进阶

## 正文

### 1. 解题思路

#### 1.1. 众数与绝对众数

给定 N 个数，称**出现次数最多**的数为**众数**；若某众数**出现次数大于 N/2** ，称该众数为**绝对众数**。

#### 1.2. 适用范围

传统的摩尔投票法只能找**绝对众数**，解决不了找众数的问题。

#### 1.3. 原理

`[1, 2, 1, 3, 1, 4, 1, 5, 1]`

两个不同的数互相抵消，那最后剩下的数都相等，就说明它有**可能是**绝对众数，如果数组里面不剩下数，那就**肯定没有**绝对众数。

说可能是绝对众数，是因为，比如`[1,2,3,4,5,6,7]`这个例子中剩下的 7 就不是绝对众数。

#### 1.4. 投票步骤

1. 候选绝对众数 `candidate` 和候选绝对众数的出现次数 `count`做记录。
2. 遍历数组，进行投票
   - 如果`conut`是 0 ，说明`candidate`已经被抵消完了，更新`candidate`；
   - 如果 `nums[i] == candidate`，那`count++`，否则`count--`；
3. 最后统计`candidate`出现的次数，大于 N/2 说明是绝对众数，否则没有绝对众数

#### 1.5. 时间空间复杂度

时间复杂度为 O(N) 、空间复杂度为 O(1) 

### 2. LeetCode题目

1. [面试题 17.10. 主要元素 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/find-majority-element-lcci/)
2. [169. 多数元素 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/majority-element/)

### 3. 进阶

#### 3.1. 求众数

摩尔投票法的进阶版，可以解决找众数的问题。

假如找超过 N/3 的元素，那这元素最多有两个，故可以选择两个候选人，进行摩尔投票的两个步骤：投票和统计。

1. 如果投A（当前元素等于A），则A的票数++;
2. 如果投B（当前元素等于B），B的票数++；
3. 如果A, B都不投（即当前与A，B都不相等），那么检查此时A或B的票数是否减为0，如果为0，则当前元素成为新的候选人；如果A, B两个人的票数都不为0，那么A, B两个候选人的票数均减一。

最后会有这么几种可能：有2个大于n/3，有1个大于n/3，有0个大于n/3

所以升级版的摩尔投票法可以解决找众数的问题。

#### 3.2. LeetCode链接

1. [229. 求众数 II - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/majority-element-ii/)

