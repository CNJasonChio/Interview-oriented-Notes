# 常用方法或函数

### 字符串与数字转换

#### `atoi()`等函数

- 作用：把 c 类型的字符串转为整形
  原型：`int atoi (const char * str)` 
- 当使用 C++ 的`string`当参数时，需要`s.c_str()`转为 c 类型的字符串
- 不会抛出异常，当超出 `int`的范围（超出上界，则输出上界，超出下界，则输出下界）或者 `str`非法，会产生未定义的行为；

1. `atol()` 转为 `long`

2. ``atof()` 转为 `double`

3.  `strtol()` 转为 `long`
   `long int strtol(const char *str, char **endptr, int base)`
   `str`指源字符串 `endptr`对 `char*` 的对象的引用，其值设置为`str`中数值的下一位字符 `base`进制数

   ```c++
   char str[30] = "2030300 This is test";	char *ptr;	long ret;
   ret = strtol(str, &ptr, 10); //ret = 2030300 *ptr= This is test
   ```

#### `stoi()`等函数

`stoi`： `string`型变量转换为`int`型变量
``stol`： 转换为`long`型变量
`stoul`：转换为`unsigned long`型变量
`stoll`：转换为`long long`型变量(**常用**)
`stoull`：转换为`unsigned long long`型变量
`stof`： 转换为`float`型变量
`stod`： 转换为`double`型变量(常用)
`stold`：转换为`long double`型变量

**`stoi()`**

原型：
`int stoi (const string&  str, size_t* idx = 0, int base = 10);`
`int stoi (const wstring& str, size_t* idx = 0, int base = 10);`

当字符串不合法时，会抛出异常

`str`源字符串 `idx`指向size_t类型对象的指针，其值由函数设置为数值后`str`中下一个字符的位置。
`base`进制数，如果为0，则使用的基数由序列中的格式确定。

```C++
std::string str_dec = "2001, A Space Odyssey";
std::string str_hex = "40c3";
std::string str_bin = "-10010110001";
std::string str_auto = "0x7f";

std::string::size_type sz;   // alias of size_t
// i_dec=2001, str_dec.substr(sz) =, A Space Odyssey
int i_dec = std::stoi (str_dec,&sz);	
int i_hex = std::stoi (str_hex,nullptr,16);	//16579	
int i_bin = std::stoi (str_bin,nullptr,2);	//-1201
int i_auto = std::stoi (str_auto,nullptr,0);//127
```

#### 参考链接

1. [C++字符串转换（stoi；stol；stoul；stoll；stoull；stof；stod；stold）](https://blog.csdn.net/baidu_34884208/article/details/88342844?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-5.base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-5.base)
2. [【最贴心】C++字符串转换(stoi；stol；stoul；stoll；stoull；stof；stod；stold)](https://zhanglong.blog.csdn.net/article/details/110290292)
3. [C++11中stoi函数的异常处理](https://blog.csdn.net/u014694994/article/details/79074566?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-10.base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-10.base)
4. [stoi - C++ Reference (cplusplus.com)](http://www.cplusplus.com/reference/string/stoi/?kw=stoi)

### memset和memcpy